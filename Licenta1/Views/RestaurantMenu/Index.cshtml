@model IEnumerable<MenuItemCategory>
@{
}


<body>
	<div class="container my-5">
		<h1 class="text-center">Menu</h1>
		<hr>

		@foreach (var category in Model)
		{
			<div class="mt-5">
				<h2 class="mb-3">@category.MenuItemCategoryName</h2>
				<div class="row">
					@foreach (var item in category.MenuItems)
					{
						<div class="col-md-4">
							<div class="card mb-4">
								@if (item.Image != null)
								{
									<img src="data:@item.Image.ContentType;base64,@Convert.ToBase64String(item.Image.Content)"
							 alt=""
							 class="card-img-top news-image img-fluid object-fit-scale border rounded" style="max-height: 100px;" />
								}
								<div class="card-body">
									<h5 class="card-title">@item.Name</h5>
									<p class="card-text">@item.Description</p>
									<p class="card-text">
										@if (item.Price.DiscountIsActive && item.Price.StartDate <= DateTime.Today && item.Price.EndDate >= DateTime.Today)
										{
										<p class="card-text">
											<span class="text-decoration-line-through"><strong>Price: @item.Price.BasePrice.ToString("C")</strong></span>
											<span class="ms-2 text-success"><strong>@((item.Price.BasePrice - (item.Price.Discount / 100 * item.Price.BasePrice)).ToString("C"))</strong></span>
										</p>
										}
										else
										{
										<p class="card-text"><strong>Price: @item.Price.BasePrice.ToString("C")</strong></p>
										}
									</p>
								</div>
							</div>
						</div>
					}
				</div>
			</div>
		}

	</div>
</body>