@model DolphinsSunsetResort.Models.News

<body>
	<div class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-12 col-md-10 col-lg-8">
				<div class="card shadow-sm">
					@if (Model != null && Model.Image != null)
					{
						<img src="data:@Model.Image.ContentType;base64,@Convert.ToBase64String(Model.Image.Content)"
						 alt="@Model.Title"
						 class="card-img-top news-image object-fit-scale border rounded" style="max-height: 300px;" />
					}
					<div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>
					<div class="card-body">
						<h1 class="card-title text-center mb-4">Edit News</h1>
						<form method="post" enctype="multipart/form-data" action="@Url.Action("EditSave", "News")">
							<input type="hidden" name="Id" value="@Model?.Id" />

							<div class="mb-3">
								<label for="Title" class="form-label">Title</label>
								<input type="text" class="form-control" id="Title" name="Title" value="@Model?.Title" required />
							</div>

							<div class="mb-3">
								<label for="Content" class="form-label">Content</label>
								<textarea class="form-control" id="Content" name="Content" rows="5" required>@Model?.Content</textarea>
							</div>

							<div class="mb-3">
								<label for="FileUpload" class="form-label">Upload Image</label>
								<input type="file" class="form-control" id="FileUpload" name="FileUpload" accept="image/*" />
							</div>

							@if (Model?.Image != null)
							{
								<div class="mb-3">
									<div>
										<label class="form-check-label">
											<input type="checkbox" name="RemoveImage" /> Remove Image
										</label>
									</div>
								</div>
							}
							<div class="d-flex justify-content-between">
								<button type="submit" class="btn btn-primary">Save</button>
								<a href="@Url.Action("Index", "News")" class="btn btn-secondary">Back</a>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
